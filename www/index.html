<!doctype html>

<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		
		<!-- Additional JavaScript & CSS -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<!-- CDN Delivererd -->

		
		<!-- Keeping the Bootstrap 4.6.1 CSS as the btn.info class looks terrible under 5.1.3, as does the modal close (x) button -->
		<!--
		<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.21.0/cytoscape.min.js"></script>		
		<script src="https://unpkg.com/layout-base/layout-base.js"></script>
		<script src="https://unpkg.com/cose-base/cose-base.js"></script>
		<script src="https://unpkg.com/cytoscape-fcose/cytoscape-fcose.js"></script>
		<script lang="javascript" src="https://cdn.sheetjs.com/xlsx-0.19.0/package/dist/xlsx.full.min.js"></script>
		-->

		<!-- Locally Sourced -->
		<script src="./src/jquery-3.5.1.min.js"></script>
		<script src="./src/bootstrap.min.js"></script>
		<link rel="stylesheet" type="text/css" href="./src/bootstrap.min.css">
		<script src="./src/popper.min.js"></script>
		<script src="./src/chart.min.js"></script>
		<script src="./src/cytoscape.min.js"></script>
		<script src="./src/layout-base.js"></script>
		<script src="./src/cose-base.js"></script>
		<script src="./src/cytoscape-fcose.js"></script>
		<script src="./src/xlsx.full.min.js"></script>


		<!-- Local stylesheet -->
		<link rel="stylesheet" href="./css/style.css">

		<!-- Page scripts -->
		<script src="./clientSide/Node.js" type="text/javascript" defer></script>
		<script src="./clientSide/constants.js" type="text/javascript" defer></script>
		<script src="./clientSide/privateConstants.js" type="text/javascript" defer></script>
		<script src="./clientSide/helpers.js" type="text/javascript" defer></script>
		<script src="./clientSide/modals.js" type="text/javascript" defer></script>
		<script src="./clientSide/index.js" type="text/javascript" defer></script>
		<script src="./clientSide/events.js" type="text/javascript" defer></script>
		<script src="./clientSide/graph.js" type="text/javascript" defer></script>
		<script src="./clientSide/exports.js" type="text/javascript" defer></script>

		<title>System of Systems Modeller</title>

	</head>
	<body>

		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="#">SOSM</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Model Dependencies</a>
					<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('families')">System Families</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('techCategories')">Technology Categories</a></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('technologies')">Link Technologies</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('paramDefinition')">Define Parameters</a></li>
					</ul>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Graph Components</a>
					<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('links')">Links</a></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('interfaces')">Interfaces</a></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('subsystems')">Subsystems</a></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('systems')">Systems</a></li>
					</ul>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Knowledge Management</a>
					<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('interfaceIssues')">Interface Issues</a></li>
					</ul>
				</li>

<!--
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Organisation</a>
					<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('organisation')">Organisation</a></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('orgSystemMap')">Attach Systems to Organisational Nodes</a></li>
					</ul>
				</li>				
			-->


				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">View</a>
					<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
						<li><a class="dropdown-item" href="#" onclick="pageSwitch('standard')">System Graph</a></li>
						<!--<li><a class="dropdown-item" href="#" onclick="pageSwitch('standardOrganisation')">System Graph (Incl Organisation)</a></li>-->
						<li><a class="dropdown-item" href="#" onclick="pageSwitch('subsystems')">Subsystem Graph</a></li>
						<li><a class="dropdown-item" href="#" onclick="view_summary()">System Summary</a></li>
						<li><a class="dropdown-item" href="#" onclick="view_issues()">Issue Summary</a></li>
						<li><a class="dropdown-item" href="#" onclick="view_charts()">Charts</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('specificSystem')">Specific System</a></li>

					</ul>
				</li>
<!--
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Analysis</a>
					<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
						<a id="nodeConnections" class="dropdown-item" href="#">Node Connections</a>
						
					</ul>
				</li>	
			-->		
				
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Maintenance</a>

					<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
						<li><a class="dropdown-item" href="/backup.txt" target="_blank">Backup</a></li>
						<li><a class="dropdown-item" href="#" onclick="exportSosmData()">Export Data (Direct)</a></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('exports')">Export Data</a></li>
						<li><a class="dropdown-item" href="#" onclick="viewCommonModal('configureExports')">Configure Data Export</a></li>
					</ul>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#" onclick="settingsModal()">Settings</a>

				</li>
			</div>
		</nav>
		<h2 id="pageTitle" class="text-center">System Design</h2>
		<div class="d-flex px-3" id="wrapper">
			<!-- Sidebar
			<a class="list-group-item list-group-item-action list-group-item-light p-3" href="#!">Dashboard</a>
			-->
			<div class="border-end bg-white" id="sidebar-wrapper">
				<div class="sidebar-heading border-bottom bg-dark text-white px-2"><h5 class="my-0">Graph Manipulation</h5></div>
				<div id="sidebarGraph" class="">
					<div class="row">
						<div class="col">
							<button type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="decrementYearButton()">Decrement Year</button>
						</div>
						<div class="col">
							<button type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="incrementYearButton()">Increment Year</button>
						</div>
					</div>	
					<div class="row">
						<div class="col">
							<button type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="graphZoomIn()">Zoom In</button>
						</div>
						<div class="col">
							<button type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="graphZoomOut()">Zoom Out</button>
						</div>
					</div>	
					<button id="hideNodeToggleButton" type="button" class="btn btn-secondary btn-sm btn-block my-1" onclick="hideNodesButton()">Hide Node Toggle</button>

					
					
					
					<div class="row">
						<div class="col">
							<button id="reorgGraph" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="reorgGraph()">Reorganise Graph</button>
						</div>
						<div class="col">
							<button id="redrawGraph" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="redrawGraph()">Redraw Graph</button>
						</div>
					</div>

					<div class="row">
						<div class="col">
							<button id="manageTags" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="commonModal({modal: 'tags'})">Manage Tags</button>
						</div>
						<div class="col">
							
							<button id="manageTags" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="viewCommonModal('selectOrganisation')">Select Organisation</button>
						</div>
					</div>

					<div class="row">
						<div class="col">
							<button id="manageTags" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="viewCommonModal('export')">Export Data</button>
							
						</div>
						<div class="col">
							
							<button id="manageTags" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="resetLocalStorage()">Clear LocalStorage</button>
						</div>
					</div>					
					<div class="row">
						<div class="col">

						</div>
						<div class="col">

							
						</div>
					</div>

				</div>
				<div class="sidebar-heading border-bottom bg-dark text-white px-2"><h5 class="my-0">Selected Node Details</h5></div>
				<div id="sidebarInterface" class="">
					<table id="nodeDetailsTable" class="table table-sm mx-1">
					<tbody>

					</tbody>
					</table>

					<button id="editNodeButton" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="editNodeButton()">Edit Node</button>
					<button id="hideNode" type="button" class="btn btn-primary btn-sm btn-block my-1" onclick="hideSelectedNodeButton()">Hide Selected Node</button>
					
					

				</div>
			</div>

			<!-- Page Content -->
			<div id="mainPaneContainer" class="container-fluid">
				<div id="tagsInfoContainer" >
					
				</div>
				<div class="row">
					<div class="col">
						<div id="cy" class="px-1 w-100"></div>
					</div>
				</div>
			</div>
		</div>

		<!-- Main Modal Interface -->
		<div class="modal" tabindex="-1" role="dialog" id="mainModal">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
				<div class="modal-header">
					<h5 id="mainModalTitle" class="modal-title">Main Modal</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					
				</div>
				<div class="modal-footer">
					<div class="warning-holder"></div>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">SHOULDNT SEE</button>
				</div>
				</div>
			</div>
		</div>
	</body>
</html>
